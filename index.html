<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Canvas Test</title>
</head>
<body>
  <canvas id="c" height="400px" width="400px"></canvas>
  <button onclick="randomCharacter()">Random Character</button>
  
</body>
<style>
  html { background-color: black; }
  body { 
    margin: 40px auto;
    width: 400px; 
    height: 800px; 
    background-color: grey; 
  }
  canvas { background-color: white; }
  button { font-size: 30px; width: 100%;}
</style>
<script>
  const canvas = document.getElementById("c")
  const ctx = canvas.getContext('2d')
  const center = canvas.width / 2
  const base = canvas.height - 40

  function randomCharacter(){
    clearCanvas()
    drawCharacter(randomCoords())
  }

  function clearCanvas(){
    ctx.clearRect(0, 0, canvas.width, canvas.height)
  }

  function randomCoords(){
    const height = kinda(165);
    const width = kinda(75);
    const headSize = kinda(30, .1);
    const neck = kinda(15);
    const shoulderWidth = kinda(width);
    const chestWidth = kinda(width);
    const waistWidth = kinda(width);
    const hipWidth = kinda(width);
    const footWidth = kinda(width);
    
    const coords = {
      head: {x: center, y: base - height - headSize - neck, radius: headSize},

      lShoulder: { x: center - shoulderWidth / 2, y: base - height },
      rShoulder: { x: center + shoulderWidth / 2, y: base - height },

      lChest: { x: center - chestWidth / 2, y: base - height * .85 },
      rChest: { x: center + chestWidth / 2, y: base - height * .85},

      lWaist: { x: center - waistWidth / 2, y: base - height * .6 },
      rWaist: { x: center + waistWidth / 2, y: base - height * .6 },

      lHips: { x: center - hipWidth / 2, y: base - height * .45 },
      rHips: { x: center + hipWidth / 2, y: base - height * .45 },

      lFoot: { x: center - footWidth / 2, y: base },
      rFoot: { x: center + footWidth / 2, y: base }
    }
    return coords
  }


  function drawCharacter(coords){
    ctx.beginPath();
    ctx.moveTo(coords.lShoulder.x, coords.lShoulder.y);
    ctx.lineTo(coords.lChest.x, coords.lChest.y);
    ctx.lineTo(coords.lWaist.x, coords.lWaist.y);
    ctx.lineTo(coords.lHips.x, coords.lHips.y);
    ctx.lineTo(coords.lFoot.x, coords.lFoot.y);
    ctx.lineTo(coords.rFoot.x, coords.rFoot.y);
    ctx.lineTo(coords.rHips.x, coords.rHips.y);
    ctx.lineTo(coords.rWaist.x, coords.rWaist.y);
    ctx.lineTo(coords.rChest.x, coords.rChest.y);
    ctx.lineTo(coords.rShoulder.x, coords.rShoulder.y);
    ctx.closePath();
    ctx.stroke();

    ctx.beginPath()
    ctx.arc(coords.head.x, coords.head.y, coords.head.radius, 0, Math.PI * 2)
    ctx.closePath()
    ctx.stroke()
  }

  function kinda(num, variance = .4) {
    return randRange(num - num * variance, num + num * variance)
  }

  function randRange(min, max) {
    return Math.random() * (max - min) + min;
  }
</script>
</html>
